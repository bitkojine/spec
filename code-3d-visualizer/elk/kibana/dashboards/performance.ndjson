{"type":"index-pattern","id":"perf-pattern","attributes":{"title":"code-visualizer-perf-*","timeFieldName":"@timestamp"}}
{"type":"visualization","id":"perf-docs-markdown","attributes":{"title":"Performance Monitoring Guide","visState":"{\"title\":\"Performance Monitoring Guide\",\"type\":\"markdown\",\"params\":{\"markdown\":\"# üõ†Ô∏è Performance Monitoring Guide\\n\\nThis dashboard provides a unified view of the system's performance across different application versions. It tracks both the **Extension Host** (Node.js) and the **WebView** (Chromium) layers.\\n\\n### üìä Key Performance Indicators (KPIs)\\n\\n- **Parsing Latency**: analysis time per TS file. Budget: **< 10ms**.\\n- **Workspace Scan**: finding/indexing all files. Budget: **< 2s total**.\\n- **Scene Update**: blocks to 3D object conversion. Budget: **< 50ms**.\\n- **WebView FPS**: frame rate in 3D world. Target: **> 60 FPS**.\\n- **Extension Heap**: Node.js memory delta. Target: **No growth**.\\n- **WebView Heap**: Chromium JS memory delta. Target: **No growth**.\\n\\n### üîç Troubleshooting\\n\\n**Why is a chart empty?**\\n1. **Data Source**: Verify `cli-to-elk.mjs` is wrapping your command.\\n2. **Filters**: Ext Host uses `source: cli-unwrapped`. WebView uses `context.source: webview`.\\n3. **Indices**: Verify `code-visualizer-perf-*` exists in ES.\\n\\n**How to generate data?**\\nRun the benchmark suite: `npm run test:perf`\\nThis will run 5 iterations per build and populate all charts.\"},\"aggs\":[]}","uiStateJSON":"{}","description":"Dashboard explanation and metric definitions.","version":1}}
{"type":"visualization","id":"parsing-latency-vis","attributes":{"title":"Average Parsing Latency (ms)","visState":"{\"title\":\"Average Parsing Latency (ms)\",\"type\":\"line\",\"params\":{\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"showCircles\":true,\"interpolate\":\"linear\",\"scale\":\"linear\",\"drawLinesBetweenPoints\":true,\"radiusRatio\":9,\"times\":[],\"addTimeMarker\":false,\"defaultYExtents\":false,\"setYExtents\":false},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"context.perf.duration\",\"customLabel\":\"Latency (ms)\"}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"context.version.keyword\",\"size\":20,\"order\":\"asc\",\"orderBy\":\"_key\",\"customLabel\":\"Application Version\"}}]}","uiStateJSON":"{}","description":"Average duration of FILE_PARSE operations.","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"context.perf.operation: \\\"FILE_PARSE\\\"\"}},\"filter\":[],\"index\":\"perf-pattern\"}"}},"references":[{"name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern","id":"perf-pattern"}]}
{"type":"visualization","id":"workspace-scan-vis","attributes":{"title":"Average Workspace Scan Duration (ms)","visState":"{\"title\":\"Average Workspace Scan Duration (ms)\",\"type\":\"line\",\"params\":{\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"showCircles\":true,\"interpolate\":\"linear\",\"scale\":\"linear\",\"drawLinesBetweenPoints\":true,\"radiusRatio\":9,\"times\":[],\"addTimeMarker\":false,\"defaultYExtents\":false,\"setYExtents\":false},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"context.perf.duration\",\"customLabel\":\"Latency (ms)\"}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"context.version.keyword\",\"size\":20,\"order\":\"asc\",\"orderBy\":\"_key\",\"customLabel\":\"Application Version\"}}]}","uiStateJSON":"{}","description":"Average duration of WORKSPACE_SCAN operations.","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"context.perf.operation: \\\"WORKSPACE_SCAN\\\"\"}},\"filter\":[],\"index\":\"perf-pattern\"}"}},"references":[{"name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern","id":"perf-pattern"}]}
{"type":"visualization","id":"scene-update-vis","attributes":{"title":"Average Scene Update Duration (ms)","visState":"{\"title\":\"Average Scene Update Duration (ms)\",\"type\":\"line\",\"params\":{\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"showCircles\":true,\"interpolate\":\"linear\",\"scale\":\"linear\",\"drawLinesBetweenPoints\":true,\"radiusRatio\":9,\"times\":[],\"addTimeMarker\":false,\"defaultYExtents\":false,\"setYExtents\":false},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"context.perf.duration\",\"customLabel\":\"Latency (ms)\"}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"context.version.keyword\",\"size\":20,\"order\":\"asc\",\"orderBy\":\"_key\",\"customLabel\":\"Application Version\"}}]}","uiStateJSON":"{}","description":"Average duration of UPDATE_SCENE operations in the Webview.","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"context.perf.operation: \\\"UPDATE_SCENE\\\"\"}},\"filter\":[],\"index\":\"perf-pattern\"}"}},"references":[{"name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern","id":"perf-pattern"}]}
{"type":"visualization","id":"webview-fps-vis","attributes":{"title":"Average WebView FPS","visState":"{\"title\":\"Average WebView FPS\",\"type\":\"line\",\"params\":{\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"showCircles\":true,\"interpolate\":\"linear\",\"scale\":\"linear\",\"drawLinesBetweenPoints\":true,\"radiusRatio\":9,\"times\":[],\"addTimeMarker\":false,\"defaultYExtents\":false,\"setYExtents\":false},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"context.perf.context.fps\",\"customLabel\":\"FPS\"}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"context.version.keyword\",\"size\":20,\"order\":\"asc\",\"orderBy\":\"_key\",\"customLabel\":\"Application Version\"}}]}","uiStateJSON":"{}","description":"Average frame rate in the Webview.","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"context.perf.operation: \\\"WEBVIEW_FPS\\\"\"}},\"filter\":[],\"index\":\"perf-pattern\"}"}},"references":[{"name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern","id":"perf-pattern"}]}
{"type":"visualization","id":"webview-heap-vis","attributes":{"title":"Average WebView JS Heap Delta (Bytes)","visState":"{\"title\":\"Average WebView JS Heap Delta (Bytes)\",\"type\":\"area\",\"params\":{\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"scale\":\"linear\",\"interpolate\":\"linear\",\"drawLinesBetweenPoints\":true,\"radiusRatio\":9,\"times\":[],\"addTimeMarker\":false,\"defaultYExtents\":false,\"setYExtents\":false},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"context.perf.memoryDelta\",\"customLabel\":\"Heap Increase (Bytes)\"}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"context.version.keyword\",\"size\":20,\"order\":\"asc\",\"orderBy\":\"_key\",\"customLabel\":\"Application Version\"}}]}","uiStateJSON":"{}","description":"Memory delta within the Chromium/Webview environment.","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"context.source: \\\"webview\\\"\"}},\"filter\":[],\"index\":\"perf-pattern\"}"}},"references":[{"name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern","id":"perf-pattern"}]}
{"type":"visualization","id":"memory-delta-vis","attributes":{"title":"Average Ext Host Memory Delta (Bytes)","visState":"{\"title\":\"Average Ext Host Memory Delta (Bytes)\",\"type\":\"area\",\"params\":{\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"scale\":\"linear\",\"interpolate\":\"linear\",\"drawLinesBetweenPoints\":true,\"radiusRatio\":9,\"times\":[],\"addTimeMarker\":false,\"defaultYExtents\":false,\"setYExtents\":false},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"context.perf.memoryDelta\",\"customLabel\":\"Memory Increase (Bytes)\"}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"context.version.keyword\",\"size\":20,\"order\":\"asc\",\"orderBy\":\"_key\",\"customLabel\":\"Application Version\"}}]}","uiStateJSON":"{}","description":"Average heap memory usage change in the Extension Host.","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"source: \\\"cli-unwrapped\\\" AND NOT context.source: \\\"webview\\\"\"}},\"filter\":[],\"index\":\"perf-pattern\"}"}},"references":[{"name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern","id":"perf-pattern"}]}
{"type":"dashboard","id":"performance-dashboard","attributes":{"title":"Performance Monitoring (Release Trends)","panelsJSON":"[{\"gridData\":{\"x\":36,\"y\":0,\"w\":12,\"h\":45,\"i\":\"3\"},\"version\":\"8.8.0\",\"panelIndex\":\"3\",\"type\":\"visualization\",\"id\":\"perf-docs-markdown\",\"embeddableConfig\":{}},{\"gridData\":{\"x\":0,\"y\":0,\"w\":18,\"h\":15,\"i\":\"1\"},\"version\":\"8.8.0\",\"panelIndex\":\"1\",\"type\":\"visualization\",\"id\":\"parsing-latency-vis\",\"embeddableConfig\":{}},{\"gridData\":{\"x\":18,\"y\":0,\"w\":18,\"h\":15,\"i\":\"4\"},\"version\":\"8.8.0\",\"panelIndex\":\"4\",\"type\":\"visualization\",\"id\":\"workspace-scan-vis\",\"embeddableConfig\":{}},{\"gridData\":{\"x\":0,\"y\":15,\"w\":18,\"h\":15,\"i\":\"5\"},\"version\":\"8.8.0\",\"panelIndex\":\"5\",\"type\":\"visualization\",\"id\":\"scene-update-vis\",\"embeddableConfig\":{}},{\"gridData\":{\"x\":18,\"y\":15,\"w\":18,\"h\":15,\"i\":\"6\"},\"version\":\"8.8.0\",\"panelIndex\":\"6\",\"type\":\"visualization\",\"id\":\"webview-fps-vis\",\"embeddableConfig\":{}},{\"gridData\":{\"x\":0,\"y\":30,\"w\":18,\"h\":15,\"i\":\"7\"},\"version\":\"8.8.0\",\"panelIndex\":\"7\",\"type\":\"visualization\",\"id\":\"webview-heap-vis\",\"embeddableConfig\":{}},{\"gridData\":{\"x\":18,\"y\":30,\"w\":18,\"h\":15,\"i\":\"2\"},\"version\":\"8.8.0\",\"panelIndex\":\"2\",\"type\":\"visualization\",\"id\":\"memory-delta-vis\",\"embeddableConfig\":{}}]","optionsJSON":"{\"useMargins\":true,\"hidePanelTitles\":false}","version":1,"timeRestore":false,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"*\"}},\"filter\":[]}"}},"references":[{"name":"panel_0","type":"visualization","id":"perf-docs-markdown"},{"name":"panel_1","type":"visualization","id":"parsing-latency-vis"},{"name":"panel_2","type":"visualization","id":"workspace-scan-vis"},{"name":"panel_3","type":"visualization","id":"scene-update-vis"},{"name":"panel_4","type":"visualization","id":"webview-fps-vis"},{"name":"panel_5","type":"visualization","id":"webview-heap-vis"},{"name":"panel_6","type":"visualization","id":"memory-delta-vis"}]}
